<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Machine Dream</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/DreamingMachine/css/basic.css">
        <link rel="stylesheet" type="text/css" href="/DreamingMachine/css/gameui.css">
        <script type="text/javascript" src="/JSObjects/libs/jquery/jquery.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/actionable.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/embodiment.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/collectable.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/container.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/inventory.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/scenario.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/interaction/selector.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/interaction/selectorBinder.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/interaction/executor.js"></script>
        <script type="text/javascript" src="/JSObjects/machineDream/interaction/executorHandler.js"></script>
        <!-- Libraries to visualize --> 
        <script type="text/javascript" src="JSObjects/viewer/embodimentViewer.js"></script>
        <!-- Libraries to dream --> 
        <script type="text/javascript" src="JSObjects/builder/actionableDreamer.js"></script>
        <!-- Basic Extensions --> 
        <script type="text/javascript" src="extensions/basicBodiesData.js"></script>
        <script type="text/javascript" src="extensions/basicBodies.js"></script>
        <script type="text/javascript" src="extensions/basicActions.js"></script>
        <!-- Manual Testing Scripts -->
        <script type="text/javascript" src="tests/testActionableDreamer.js"></script>
        <script type="text/javascript" src="tests/testExtensionBasicActions.js"></script>
    </head>
    <body>
        <!-- Player Generator
        <button onclick="javascript:playerGenerator.autoGenerate();">auto generate random player</button>
        -->
        <div id="player-generator-demo"></div>
        <!-- Player Inspect: Inspect Features, Inspect Collections, Inspect Thoughts -->
        <div id="player-inspector-demo"></div>
        <!-- Room View; The java function should load the ROOM/world from a file -->
        <div id="room-viewer-demo"></div>
        <!-- Game -->
        <div id="game">
            <div id="sidemenu"></div>
            <div id="room-viewer"></div>
        </div>
        <div>
            <h3><b>MVP</b> TO DO</h3>
            <ul>
                <li>Dream Body
                    <ul>
                        <li><span style="color: green">DONE</span> Dream name, description features and inventories from constants </li>
                        <li>Dream belongins and thoughts from constants</li>
                        <li><span style="color: green">DONE</span> Dream all from serialized string (from object DreamActionable/Embodiment)</li>
                    </ul>
                </li>
                <li>Dream Room</li>
                <li>Dream Room with doors</li>
                <li>Dream with actions</li>
                <li>Dream with goals/quests</li>
                <li>Save</li>
                <li>Load</li>
                <li>Work with images</li>
            </ul>
        </div>
        <button onclick="javascript:jQuery('#inventoryDiv').load('/DreamingMachine/js/views/inventory.html');">inventory</button>
        <div id="inventoryDiv"></div>
        <div>
			<canvas id="cs"></canvas>
        </div>
    </body>
    <!-- // This might go in a different file. We are using a Catolg from test -->
    <script type="text/javascript">
        var embodimentViewer = new EmbodimentViewer("player-inspector-demo");
        var dreamerRoom = new ScenarioDreamer();
        var room;
        dreamerRoom.addEmbodiment("body1", 3, 1, 0.75, 'prototype_basic');
        dreamerRoom.addEmbodiment("collectable", 4, 2, 0.95, 'prototype_energypack');
        room = dreamerRoom.dream();
        embodimentViewer.push(room);
        
        
        console.log("Actionable dreamer catalog:");
        console.log(actionableDreamerCatalog);
        
        
//
// Test Executor handler - This should go to another file
//
        console.log("Testing Executor Handler:");
        console.log("room:");
        console.log(room);
        var self = room.getEverybody()[0];
        console.log("self:");
        console.log(self);
        executorHandler = new ExecutorHandler(self, room);
        
        console.log("ExecutorHandler::Funtions:");
        console.log("getAllTargets:");
        console.log(executorHandler.getAllTargets());

        console.log("Show roles for consume_restore:");
        console.log(actionCatalog.consume_restore.getRoles());
        console.log("getTargetsFor:");
        console.log(executorHandler.getTargetsFor("consume_restore", "item"));

        console.log("getActions:");
        console.log(executorHandler.getActions());

        var target = self.getInventory("Belongings").collectables[0];
        console.log("getActions with targer: " + target.name);
        console.log(executorHandler.getActions(target));

        
        
    </script>
</html>
